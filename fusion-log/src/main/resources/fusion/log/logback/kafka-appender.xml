<?xml version="1.0" encoding="UTF-8"?>
<included>
    <appender name="kafka_out" class="com.github.danielwegener.logback.kafka.KafkaAppender">
        <encoder>
            <pattern>
                ${fusion.log.logback.kafka.encoder-pattern:-${kafka.encoder-pattern:-%d[##]%fusionServiceName[##]%fusionServerHostName[##]%fusionServerIp[##]%fusionServerPort[##]${fusion.profiles.active}[##][%thread] %-5level %logger{36} %line - %msg%n}}
            </pattern>
        </encoder>
        <keyingStrategy class="com.github.danielwegener.logback.kafka.keying.NoKeyKeyingStrategy"/>
        <deliveryStrategy class="com.github.danielwegener.logback.kafka.delivery.AsynchronousDeliveryStrategy"/>
        <!--        <topic>hongka-server-logs.${env}</topic>-->
        <topic>${fusion.log.logback.kafka.topic:-${kafka.topic:-fusion-log-topic}}</topic>
        <producerConfig>${fusion.log.logback.kafka.producer-config:-${kafka.producer-config:-bootstrap.servers=localhost:9072}}</producerConfig>
        <!-- this is the fallback appender if kafka is not available. -->
        <appender-ref ref="file_out"/>
    </appender>
</included>